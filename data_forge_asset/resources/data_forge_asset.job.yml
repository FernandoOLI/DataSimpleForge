# The main job for data_simple_forge_asset.
resources:
  jobs:
    data_simple_forge_asset_job:
      name: data_simple_forge_asset_job

      trigger:
        # Run this job every day, exactly one day from the last run; see https://docs.databricks.com/api/workspace/jobs/create#trigger
        pause_status: PAUSED
        periodic:
          interval: 1
          unit: DAYS

      email_notifications:
        on_failure:
          - oliveira-fernando1@hotmail.com
      job_clusters:
        - job_cluster_key: job_cluster
          new_cluster:
            spark_version: 15.4.x-scala2.12
            node_type_id: Standard_DS3_v2
            data_security_mode: SINGLE_USER
            num_workers: 1

      tasks:
        - task_key: simple_jar
          job_cluster_key: job_cluster
          spark_jar_task:
            main_class_name: src.main.scala.Main
          libraries:
              - jar: dbfs:/FileStore/jars/simple-forge.jar